import matplotlib.pyplot as plt
import numpy as np
from matplotlib.patches import Polygon


cones = np.array([[-0.36, 0.14],
                  [-0.36, -0.14],
                  [0.36, 0.14],
                  [0.36, -0.14]])
plt.plot(cones[:, 0], cones[:, 1], color="white",  marker='o', markerfacecolor='None',
         markeredgecolor='black', markeredgewidth=3.0, markersize=18, label="Contact points")

fcontact = np.array([[9.99991662702753, 0.14770945434498614],
                     [9.999916579939132, 9.999883358220815],
                     [-10.00008334915391, 9.999883340971685],
                     [-10.000083298209045, 0.13641538192035788],
                     [-10.000083314436067, -10.000116129875073],
                     [9.999916600736846, -10.000116080023652],
                     [9.99991662702753, 0.14770945434498614]
                     ])
plt.plot(fcontact[:, 0], fcontact[:, 1],
         linewidth=3.0)

fa_in = np.array([[0.26085665238719996, 0.06522592994750398],
                 [0.26002026372746717, 0.09875096448536397],
                 [0.2534953104042066, 0.1447700265783284],
                 [0.18258876617222622, 0.18362006943851134],
                 [0.13316267742569757, 0.20391946565399316],
                 [0.020817182752824747, 0.24725173331150005],
                 [0.01099920571080118, 0.24892370803412722],
                 [-0.004359434524817075, 0.24916407867797166],
                 [-0.02450589563271919, 0.24857484690130519],
                 [-0.1472456602903597, 0.20087009212291937],
                 [-0.19285897038865482, 0.18255854231870589],
                  [-0.25535668491477015, 0.147125589921471],
                  [-0.2607823531538472, 0.09797664542590115],
                  [-0.2622392542871595, 0.039830496001308724],
                  [-0.26259616125251284, -0.004257638625889231],
                  [-0.26222620431704513, -0.06649054359375905],
                  [-0.261581429958933, -0.09890110236244962],
                  [-0.2552150579099842, -0.14481246996096406],
                  [-0.18205634726563782, -0.18489366471884436],
                  [-0.1343919774849646, -0.204363393460756],
                  [-0.022523939755946545, -0.24753308610872848],
                  [-0.012622230992568005, -0.24886370582708042],
                  [0.005308842695031348, -0.24909067265850562],
                  [0.02247146141740706, -0.24863835088932507],
                  [0.032026057160148995, -0.24522863422425598],
                  [0.14646854034611026, -0.20071822376915965],
                  [0.1930323302180003, -0.18215872893177826],
                  [0.25342867254125934, -0.14792490548991877],
                  [0.25851871474465166, -0.09966222928337544],
                  [0.25864457516544476, -0.09647101125275341],
                  [0.26032035988092367, -0.03982102028830399],
                  [0.260712834941563, 0.0007542932254335491],
                  [0.26085665238719996, 0.06522592994750398]])


fa_in_8 = np.array([[0.2852734359670162, 0.05565846781018555],
                    [0.28468247565974114, 0.08095185139374617],
                    [0.28225496417156365, 0.1055285719776208],
                    [0.27619583274025267, 0.1347586687200029],
                    [0.18327722799588358, 0.18506251177691574],
                    [0.16064733747426585, 0.19475430194936366],
                    [0.08007981557039696, 0.22667417425464276],
                    [0.025524312304362234, 0.2474122236611894],
                    [0.018033162958114562, 0.2484942380668522],
                    [-0.00427613232360472, 0.24881898956982543],
                    [-0.032231525837528904, 0.2476148509656972],
                    [-0.10337796476496187, 0.22008497705404106],
                    [-0.17101531321894092, 0.19346258802906616],
                    [-0.19445578393123336, 0.18383930443369317],
                    [-0.27817800843212176, 0.13691422488259247],
                    [-0.2834923113804878, 0.10608390565999645],
                    [-0.2854832332868026, 0.07603330248716311],
                    [-0.2863623212733163, 0.03379674479082871],
                    [-0.28682645249370836, -0.022077696001437774],
                    [-0.28658232471982104, -0.06030787249039368],
                    [-0.28609147842497784, -0.08097395558813651],
                    [-0.2836677533795703, -0.10562696984247351],
                    [-0.277404901128395, -0.13459466680022647],
                    [-0.1818907525526309, -0.18619248293792198],
                    [-0.15988927784452842, -0.1954741959906689],
                    [-0.08226041888747182, -0.22611850266334488],
                    [-0.026321984378248765, -0.24743320609307534],
                    [-0.01835386912388765, -0.24829799977678468],
                    [0.006855647657998897, -0.24859165812341108],
                    [0.03120649692951002, -0.24770038557426846],
                    [0.03843277953854076, -0.2451002964648972],
                    [0.097943377120738, -0.22203897607999237],
                    [0.17435168047629795, -0.19201676686172645],
                    [0.19539093015287057, -0.18351940570077518],
                    [0.2767939798719018, -0.13786160104741507],
                    [0.2816108550539598, -0.10755420186561132],
                    [0.2832553772845704, -0.07856059971872063],
                    [0.28432867608350026, -0.03409968659295114],
                    [0.284879919058171, 0.0030436378545488332],
                    [0.2852734359670162, 0.05565846781018555]])

plt.plot(fa_in[:, 0], fa_in[:, 1], "m--", linewidth=3,)

wall = np.array(
    [[0.36, 10], [0.36, -10], [-0.36, -10], [-0.36, 10], [0.36, 10]])

plt.plot(0.0, 0,  marker='*', color="None", markerfacecolor='red',
         markeredgecolor='red', markeredgewidth=1.0, markersize=10, label="COM")
plt.grid(visible=True)
plt.plot(wall[:, 0], wall[:, 1], "k", label="wall",    linewidth=3.0)
ax = plt.gca()
ax.add_patch(Polygon(fcontact, fill=False, hatch="/",
             linewidth=1.0, ec="b", label="Contact support area"))
ax.add_patch(Polygon(fa_in, fill=False, hatch="\\",
             linewidth=1.0, ec="m", label="Feasible area "))
plt.legend(loc="upper left")
plt.axis("equal")
ax.set_xlim([-0.4, 0.4])
ax.set_ylim([-0.2, 0.2])
fig = plt.gcf()
fig.set_size_inches(7.5, 5)
fig.savefig("fig_wall_up.png", dpi=150)
plt.show()
